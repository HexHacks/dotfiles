
function config_keybindings_emacs()
{
    bindkey -e
}

function config_keybindings_vim()
{
    bindkey -v
}

function config_completion()
{
# The following lines were added by compinstall

    zstyle ':completion:*' auto-description 'specify: %d'
    zstyle ':completion:*' completer _complete _ignored _correct _approximate
    zstyle ':completion:*' format 'Completing %d'
    zstyle ':completion:*' group-name ''
    zstyle ':completion:*' insert-unambiguous true
    zstyle ':completion:*' list-colors ''
    zstyle ':completion:*' list-prompt %SAt %p: Hit TAB for more, or the character to insert%s
    zstyle ':completion:*' matcher-list '' 'm:{[:lower:]}={[:upper:]}' 'r:|[._-]=* r:|=*'
    zstyle ':completion:*' max-errors 2
    zstyle ':completion:*' menu select=2
    zstyle ':completion:*' prompt 'Corrections (errs: %e):'
    zstyle ':completion:*' select-prompt %SScrolling active: current selection at %p%s
    zstyle :compinstall filename '/home/jacob/.zshrc'
    
    autoload -Uz compinit
    compinit
# End of lines added by compinstall
}

function config_prompt()
{
    autoload -Uz promptinit
    autoload -Uz colors
    promptinit

    # Left prompt
    PS1='%B%(?..%F{red}[%F{white}%?%F{red}] )' # status code: %?
    PS1+='%(!.%F{red}.%F{fg_default_code})' # Color selector for if super user
    PS1+='%b%n'                             # username
    PS1+='%F{magenta}@'                     # @
    PS1+='%F{cyan}%m%u'                     # hostname
    PS1+='%F{red}# %F{fg_default_code}'     # #
    export PS1

    # Right prompt
    export RPS1='%F{green}%~%f' 
}

function config_history()
{
    setopt inc_append_history   # immediately append history to history file
    setopt hist_ignore_dups     # ignore duplicate commands
    setopt hist_ignore_space    # ignore commands with leading space
}

function config_aliases() 
{
    alias -g ...='../..'
    alias -g ....='../../..'
    alias -g .....='../../../..'

    # I want colors for my standard operations.
    alias ls='ls --color=auto'
    alias lsl='ls -l'
    alias grep='grep --color=auto'

    alias ga='git add'
    alias gs='git status'
    alias gd='git diff'
    alias gl='git log --oneline --all --graph --decorate'
    alias gc='git commit --verbose'
}

function exec_sway()
{
    # If running trom tty1 start sway
    if [[ $(tty) == "/dev/tty1" ]]; then
        sway
        #exit 0
    fi
}

function post_shell_exec()
{
    exec_sway
}

setopt extendedglob

config_keybindings_emacs
#config_keybindings_vim
config_completion
config_prompt
config_history
config_aliases

post_shell_exec
